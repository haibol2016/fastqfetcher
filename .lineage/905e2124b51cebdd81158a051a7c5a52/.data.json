{"version":"lineage/v1beta1","kind":"TaskRun","spec":{"sessionId":"4813cd2b-4905-4033-9a77-bdecff8c8227","name":"FASTQFETCHER:SRA2FASTQ:SRA_FASTERQDUMP (SRR13255544)","codeChecksum":{"value":"8e22eab6f7235034e4cc1f2ab26dc2eb","algorithm":"nextflow","mode":"standard"},"script":"\n    # Get SRA file basename (without .sra extension)\n    SRA_BASE\u003d$(basename \"SRR13255544.sra\" .sra)\n    \n    # Convert SRA to FASTQ using fasterq-dump\n    # Use TMPDIR if set, otherwise default to /tmp (bash parameter expansion)\n    fasterq-dump \\\n        SRR13255544.sra \\\n        -e 6 \\\n        --split-spot \\\n        --temp ${TMPDIR:-/tmp} \\\n        --outdir . \\\n        --force --include-technical  --disk-limit 8G\n\n    # Compress all FASTQ files to .gz using parallel compression\n    # Handles single-end (1 file), paired-end (2 files), and single-cell RNA-seq (2-4 files)\n    # pigz will compress all matching *.fastq files using multiple threads\n    if ! ls *.fastq 1\u003e /dev/null 2\u003e\u00261; then\n        echo \"ERROR: No FASTQ files generated from SRR13255544.sra\" \u003e\u00262\n        exit 1\n    fi\n    \n    pigz -p 6 --force -5 *.fastq\n    \n    # Verify compressed files exist\n    if ! ls *.fastq.gz 1\u003e /dev/null 2\u003e\u00261; then\n        echo \"ERROR: No compressed FASTQ files found after conversion\" \u003e\u00262\n        exit 1\n    fi\n\n    # Delete original SRA (not the symlink) file after successful conversion (only runs after fasterq-dump completes successfully)\n    # Resolve symlink before deletion\n    ACTUAL_SRA_FILE\u003d$(readlink -f \"SRR13255544.sra\" 2\u003e/dev/null || realpath \"SRR13255544.sra\" 2\u003e/dev/null || echo \"SRR13255544.sra\")\n    rm -f \"${ACTUAL_SRA_FILE}\"\n    \n    # Get version information\n    cat \u003c\u003c-END_VERSIONS \u003e versions.yml\n    \"FASTQFETCHER:SRA2FASTQ:SRA_FASTERQDUMP\":\n    fasterq-dump: $(echo $(fasterq-dump --version) | sed -e \"s/fasterq-dump : //g\" )\n    pigz: $( pigz --version | sed -e \"s/pigz //g\" )\n    END_VERSIONS\n    ","input":[{"type":"val","name":"meta","value":{"id":"SRR13255544","sra_id":"SRR13255544"}},{"type":"path","name":"sra_file","value":["lid://5fa32b5533d0fa6db07c853a74e56fdc/SRR13255544.sra"]}],"container":"docker.io/nemat1976/sra-tools-pigz:3.2.1","conda":null,"spack":null,"architecture":null,"globalVars":{"task.ext.args1":"--force --include-technical  --disk-limit 8G","task.ext.args2":"--force -5"},"binEntries":[],"workflowRun":"lid://c34dadefcf66b7636eca18ee884c439a"}}