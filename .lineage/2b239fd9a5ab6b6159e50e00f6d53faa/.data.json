{"version":"lineage/v1beta1","kind":"TaskRun","spec":{"sessionId":"e76cfc93-0aa7-463a-b5cf-aaa6f1723e05","name":"FASTQFETCHER:SRA2FASTQ:SRA_FASTERQDUMP (SRR33368650)","codeChecksum":{"value":"fec5cdd6b2d4987ec67cf9ee3ce7811d","algorithm":"nextflow","mode":"standard"},"script":"\n    # Get SRA file basename (without .sra extension)\n    SRA_BASE\u003d$(basename \"SRR33368650.sra\" .sra)\n    \n    # Convert SRA to FASTQ using fasterq-dump\n    # Use TMPDIR if set, otherwise default to /tmp (bash parameter expansion)\n    fasterq-dump \\\n        SRR33368650.sra \\\n        -e 6 \\\n        --split-files \\\n        --temp ${TMPDIR:-/tmp} \\\n        --outdir . \\\n        --force --include-technical  --disk-limit 8G\n\n    # Compress all FASTQ files to .gz using parallel compression\n    # Handles single-end (1 file), paired-end (2 files), and single-cell RNA-seq (2-4 files)\n    # pigz will compress all matching *.fastq files using multiple threads\n    if ! ls *.fastq 1\u003e /dev/null 2\u003e\u00261; then\n        echo \"ERROR: No FASTQ files generated from SRR33368650.sra\" \u003e\u00262\n        exit 1\n    fi\n    \n    pigz -p 6 --force -5 *.fastq\n    \n    # Verify compressed files exist\n    if ! ls *.fastq.gz 1\u003e /dev/null 2\u003e\u00261; then\n        echo \"ERROR: No compressed FASTQ files found after conversion\" \u003e\u00262\n        exit 1\n    fi\n\n    # Delete original SRA (not the symlink) file after successful conversion (only runs after fasterq-dump completes successfully)\n    # Resolve symlink before deletion\n    ACTUAL_SRA_FILE\u003d$(readlink -f \"SRR33368650.sra\" 2\u003e/dev/null || realpath \"SRR33368650.sra\" 2\u003e/dev/null || echo \"SRR33368650.sra\")\n    rm -f \"${ACTUAL_SRA_FILE}\"\n    \n    # Get version information\n    cat \u003c\u003c-END_VERSIONS \u003e versions.yml\n    \"FASTQFETCHER:SRA2FASTQ:SRA_FASTERQDUMP\":\n        fasterq-dump: $(echo $(fasterq-dump --version) | sed -e \"s/fasterq-dump : //g\" )\n        pigz: $(echo $(pigz --version) | sed -e \"s/pigz //g\" )\n    END_VERSIONS\n    ","input":[{"type":"val","name":"meta","value":{"id":"SRR33368650","sra_id":"SRR33368650"}},{"type":"path","name":"sra_file","value":["lid://3f405acf1dc0c2259eb118ead25335a1/SRR33368650.sra"]}],"container":"docker.io/nemat1976/sra-tools-pigz:3.2.1","conda":null,"spack":null,"architecture":null,"globalVars":{"task.ext.args1":"--force --include-technical  --disk-limit 8G","task.ext.args2":"--force -5"},"binEntries":[],"workflowRun":"lid://fd296bd33caf0112b429fe3dee4e3723"}}